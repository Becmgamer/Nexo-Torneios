<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Nexo Studios - Torneios</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0a0a0a;
            color: #fff;
            text-align: center;
            padding: 20px;
        }
        h1 { color: #0ff; }
        button {
            padding: 15px 30px;
            margin: 10px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: linear-gradient(90deg, #00ff00, #00ffff);
            color: #000;
            transition: 0.3s;
        }
        button:hover {
            background: linear-gradient(90deg, #00ffff, #00ff00);
        }
        #status {
            margin-top: 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>

<h1>Nexo Studios - Torneios</h1>

<button id="btnCriarConta">Criar Conta</button>
<button id="btnEntrar">Entrar</button>

<div id="status"></div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
    // ðŸ”¹ CONFIGURAÃ‡Ã•ES DO FIREBASE ðŸ”¹
    const firebaseConfig = {
        apiKey: "COLOQUE_SUA_API_KEY",
        authDomain: "SEU_PROJETO.firebaseapp.com",
        databaseURL: "https://SEU_PROJETO.firebaseio.com",
        projectId: "SEU_PROJETO",
        storageBucket: "SEU_PROJETO.appspot.com",
        messagingSenderId: "SEU_MESSAGING_SENDER_ID",
        appId: "SEU_APP_ID"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();

    // FunÃ§Ã£o para criar conta
    document.getElementById('btnCriarConta').addEventListener('click', () => {
        const email = prompt("Digite seu e-mail:");
        const senha = prompt("Digite sua senha:");
        auth.createUserWithEmailAndPassword(email, senha)
            .then(userCredential => {
                const user = userCredential.user;
                db.ref('torneios/' + user.uid).set({
                    email: user.email,
                    inscritos: 0
                });
                document.getElementById('status').innerText = "Conta criada com sucesso!";
            })
            .catch(error => {
                document.getElementById('status').innerText = error.message;
            });
    });

    // FunÃ§Ã£o para entrar
    document.getElementById('btnEntrar').addEventListener('click', () => {
        const email = prompt("Digite seu e-mail:");
        const senha = prompt("Digite sua senha:");
        auth.signInWithEmailAndPassword(email, senha)
            .then(userCredential => {
                const user = userCredential.user;
                document.getElementById('status').innerText = "VocÃª foi logado com sucesso!";
                redirecionarTorneio(user.uid);
            })
            .catch(error => {
                document.getElementById('status').innerText = error.message;
            });
    });

    // Redirecionamento para a pÃ¡gina de torneio e verificaÃ§Ã£o de limite
    function redirecionarTorneio(uid) {
        const torneioRef = db.ref('torneios/torneio1');
        torneioRef.once('value', snapshot => {
            const data = snapshot.val() || { inscritos: 0 };
            if(data.inscritos < 10) {
                torneioRef.update({ inscritos: data.inscritos + 1 });
                alert(`VocÃª se inscreveu com sucesso! Participantes: ${data.inscritos + 1}/10`);
            } else {
                alert("As inscriÃ§Ãµes deste torneio foram encerradas.");
            }
        });
    }

    // MantÃ©m usuÃ¡rio logado por atÃ© 30 dias
    auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);
</script>

</body>
</html>
