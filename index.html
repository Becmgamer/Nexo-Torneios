<!DOCTYPE html>  
<html lang="pt-BR">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0">  
<title>Grix Studios</title>  
  
<style>  
body{  
  margin:0;  
  font-family:Arial, sans-serif;  
  background:#0f0f0f;  
  color:white;  
  text-align:center;  
}  
.container{ margin-top:40px; }  
  
input{  
  display:block;  
  margin:10px auto;  
  padding:10px;  
  width:250px;  
  border-radius:5px;  
  border:none;  
  background:#1c1c1c;  
  color:white;  
  border:1px solid #00ff88;  
}  
  
button{  
  padding:10px 20px;  
  margin:5px;  
  border:none;  
  border-radius:5px;  
  cursor:pointer;  
  font-weight:bold;  
}  
  
.primary{ background:#00ff88; color:black; }  
.secondary{ background:#00ccff; color:black; }  
  
.hidden{ display:none; }  
  
.cards{  
  display:flex;  
  flex-wrap:wrap;  
  justify-content:center;  
  gap:20px;  
}  
  
.card{  
  background:#1a1a1a;  
  padding:20px;  
  width:320px;  
  border-radius:10px;  
  border:1px solid #00ff88;  
}  
</style>  
</head>  
  
<body>  
  
<div class="container" id="loginArea">  
<h2>Grix Studios Login</h2>  
  
<input type="text" id="nome" placeholder="Nome">  
<input type="text" id="username" placeholder="Username">  
<input type="email" id="email" placeholder="Email">  
<input type="password" id="senha" placeholder="Senha">  
<input type="text" id="telefone" placeholder="Telefone">  
  
<button class="primary" onclick="criarConta()">Criar Conta</button>  
<button class="secondary" onclick="entrar()">Entrar</button>  
</div>  
  
<div class="container hidden" id="torneiosArea">  
<h2>Torneios Grix Studios</h2>  
  
<div class="cards">  
  
<!-- BRAWL STARS -->  
<div class="card">  
<img src="https://i.postimg.cc/vBDwTGw1/cropped.webp" width="150"><br><br>  
  
<h3>Brawl Stars Cup GS</h3>  
<p><b>Última chance de entrada!</b></p>  
<p><b>Taxa de entrada:</b> R$0,50</p>  
<p><b>1º de março às 16:00</b><br>  
Fase de grupos e eliminatórias</p>  
<p><b>Final e 3º lugar:</b><br>  
Será definido conforme disponibilidade dos finalistas.</p>  
  
<button class="primary" onclick="inscrever('Brawl Stars')">Pagar via Pix</button>  
<button class="secondary" onclick="pagarPessoal()">Pagar pessoalmente</button>  
</div>  
  
<!-- CLASH ROYALE -->  
<div class="card">  
<img src="https://i.postimg.cc/9MTkJZy1/images.jpg" width="150"><br><br>  
  
<h3>Clash Royale Cup GS</h3>  
<p><b>Taxa de entrada:</b> R$1,00</p>  
<p><b>Data:</b> 7 de março às 18:00</p>  
<p><b>Formato:</b><br>  
Fase de grupos e eliminatórias<br>  
Final e 3º lugar no mesmo dia</p>  
<p><b>Troféu físico personalizado</b></p>  
  
<button class="primary" onclick="inscrever('Clash Royale')">Pagar via Pix</button>  
<button class="secondary" onclick="pagarPessoal()">Pagar pessoalmente</button>  
</div>  
  
</div>  
  
<br>  
<button class="secondary" onclick="voltarInicio()">Voltar para aba inicial</button>  
</div>  
  
<script type="module">  
  
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";  
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged }   
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";  
import { getDatabase, ref, set, push }   
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";  
  
const firebaseConfig = {  
apiKey: "AIzaSyDj5-aBr2n_wg80HswcaIOjetm7DtxILSI",  
authDomain: "nexostudios-site-e9458.firebaseapp.com",  
databaseURL: "https://nexostudios-site-e9458-default-rtdb.firebaseio.com",  
projectId: "nexostudios-site-e9458",  
storageBucket: "nexostudios-site-e9458.firebasestorage.app",  
messagingSenderId: "247851109985",  
appId: "1:247851109985:web:1b8903891240c55a376420"  
};  
  
const app = initializeApp(firebaseConfig);  
const auth = getAuth(app);  
const db = getDatabase(app);  
  
let usuarioAtual = null;  
  
window.criarConta = function(){  
const nome = nome.value;  
const username = username.value;  
const email = email.value;  
const senha = senha.value;  
const telefone = telefone.value;  
  
createUserWithEmailAndPassword(auth,email,senha)  
.then(user=>{  
usuarioAtual = {  
uid:user.user.uid,  
nome,  
username,  
email,  
telefone  
};  
alert("Conta criada!");  
})  
.catch(e=>alert(e.message));  
}  
  
window.entrar = function(){  
signInWithEmailAndPassword(auth,email.value,senha.value)  
.catch(e=>alert(e.message));  
}  
  
onAuthStateChanged(auth,(user)=>{  
if(user){  
usuarioAtual = user;  
loginArea.classList.add("hidden");  
torneiosArea.classList.remove("hidden");  
}  
});  
  
window.inscrever = function(torneio){  
if(!auth.currentUser){  
alert("Faça login primeiro!");  
return;  
}  

// Aqui salva na **aba de torneios que você criou** no Firebase
const user = auth.currentUser;  

const dados = {  
uid: user.uid,  
nome: nome.value || "Sem nome",  
email: user.email,  
telefone: telefone.value || "Sem telefone",  
status: "pendente",  
data: new Date().toLocaleString()  
};  

push(ref(db,"torneios/"+torneio+"/inscritos"), dados);  

navigator.clipboard.writeText("bernardmachado14@gmail.com");  
alert("Chave Pix copiada!\nInscrição enviada para confirmação.");  
}  
  
window.pagarPessoal = function(){  
alert("Sua mensagem foi enviada com sucesso!\nEspere até 24 horas para confirmação.");  
}  
  
window.voltarInicio = function(){  
window.location.href="https://sites.google.com/view/grixstudios/in%C3%ADcio";  
}  
  
</script>  
</body>  
</html>
